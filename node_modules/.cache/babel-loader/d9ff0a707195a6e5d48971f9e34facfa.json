{"ast":null,"code":"import _slicedToArray from \"C:\\\\\\u042D\\u043B\\u0438\\u044F\\\\React\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\\\u042D\\u043B\\u0438\\u044F\\\\React\\\\my-app\\\\src\\\\index.js\";\nimport React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport moment from 'moment'; //function Clock\n// function startButton(props){\n//         return(\n//         <button onClick={this.props.handleStart} className=\"startButton\"> START </button>\n//         );\n// }\n//\n// function twoButtons(props){\n//     let makeLapse = () => {\n//         this.props.onLap({\n//             id: this.props.idLapse + 1,\n//             end_time: \"tatata\",\n//             duration: \"tatata\",\n//         });\n//     };\n//\n//         return (\n//     (this.props.resume === true)? <div><button>STOP</button><button onClick={this.makeLapse}>LAP</button></div>\n//     : <div><button>RESUME</button><button onClick={this.props.onReset}>RESET</button></div>\n//     );\n// }\n\nfunction LapsesTable() {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        start = _useState2[0],\n        setStart = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        stop = _useState4[0],\n        setStop = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        resume = _useState6[0],\n        setResume = _useState6[1]; // const [idLapse, setIdLapse] = useState(0);\n  //\n  // const [lapses, setLapses] = useState([]);\n  //\n  // let Lap = lapse => {\n  //     setIdLapse(idLapse + 1);\n  //     setLapses([lapse, ...lapses]);\n  // };\n\n  /* let handleReset = () => {\r\n       setStart(false);\r\n       setStop(false);\r\n       setResume(false);\r\n       setIdLapse(0);\r\n       setLapses([]);\r\n   };*/\n\n  /*return (\r\n      ({start} === false ?\r\n          <div>\r\n              <startButton onClick={() => setStart(!start)}/>\r\n          </div> :\r\n          <div>\r\n              <twoButtons onReset={() => this.handleReset()}\r\n                          onLap={() => this.Lap()} idLapse={idLapse}\r\n                />\r\n              <div className={LapsesList}>\r\n                  <hr/>\r\n                  {lapses.map(lapse => (\r\n                      <Lapse\r\n                          key={lapse.id}\r\n                          lapse={lapse}\r\n                      />\r\n                  ))}\r\n              </div>\r\n          </div>)\r\n  );*/\n\n}\n\n;\n\nfunction twoButtons(props) {\n  let makeLapse = () => {\n    this.props.onLap({\n      id: this.props.idLapse + 1,\n      end_time: \"tatata\",\n      duration: \"tatata\"\n    });\n  };\n\n  return this.props.resume === true ? React.createElement(\"div\", {\n    className: \"twoButtons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"stopButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"STOP\"), React.createElement(\"button\", {\n    onClick: this.makeLapse,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"LAP\")) : React.createElement(\"div\", {\n    className: \"twoButtons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"RESUME\"), React.createElement(\"button\", {\n    onClick: this.props.onReset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"RESET\"));\n}\n\nfunction Lapse(props) {\n  return React.createElement(\"div\", {\n    className: \"Lapse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Lapse \", props.number), React.createElement(Timer, {\n    interval: props.end_time,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Timer, {\n    interval: props.duration,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"deleteButton\",\n    onClick: props.onDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"x \"));\n}\n\nfunction LapsesList(props) {\n  return React.createElement(\"div\", {\n    className: \"LapsesList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, props.lapses.map((lapse, index) => React.createElement(Lapse // lapse = {lapse}\n  , {\n    end_time: lapse.end_time,\n    duration: lapse.duration,\n    key: props.lapses.length - index,\n    number: props.lapses.length - index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })));\n}\n\nfunction Timer({\n  interval\n}) {\n  const _useState7 = useState(moment.duration(interval)),\n        _useState8 = _slicedToArray(_useState7, 2),\n        duration = _useState8[0],\n        setDuration = _useState8[1];\n\n  useEffect(() => setDuration(moment.duration(interval)), [interval]); //const milliseconds = Math.floor(duration.milliseconds() /10);\n\n  const pad = n => n < 10 ? \"0\" + n : n; //const milliseconds = pad()\n\n\n  const milliseconds = Math.round(duration.milliseconds() / 10);\n\n  const seconds = () => {\n    if (duration.seconds() < 10) {\n      return \"0\" + duration.seconds();\n    } else {\n      return duration.seconds();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, pad(duration.minutes()), \":\", pad(duration.seconds()), \".\", pad(milliseconds));\n}\n\nfunction StartButton(props) {\n  return React.createElement(\"button\", {\n    onClick: props.onStart,\n    className: \"startButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \" START \");\n} // function rButton(props){\n//     return(\n//         <button onClick={props.onPress} className={props.class}>{props.title}</button>\n//     )\n// }\n\n\nfunction App() {\n  // const [timer, setTimer] = useState(1234567);\n  const _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        idLapse = _useState10[0],\n        setIdLapse = _useState10[1]; //const [lapses, setLapses] = useState([{end_time:12345,duration:1234},{end_time:12345,duration:2345},{end_time:12345,duration:34567}]);\n\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        lapses = _useState12[0],\n        setLapses = _useState12[1];\n\n  const _useState13 = useState(0),\n        _useState14 = _slicedToArray(_useState13, 2),\n        now = _useState14[0],\n        setNow = _useState14[1];\n\n  const _useState15 = useState(0),\n        _useState16 = _slicedToArray(_useState15, 2),\n        start = _useState16[0],\n        setStart = _useState16[1];\n\n  let interval = +now - +start;\n  let myInterval = useRef(null); // let interval = () => {\n  //     if(now === 0 & start!==0){\n  //         return\n  //     }\n  // }\n  //const [interval,setInterv] = useState(Number(now)-Number(start));\n  //const [lapses, setLapses] = useState([]);\n  //const [isStarted, setStart] = useState(false);\n\n  const _useState17 = useState(0),\n        _useState18 = _slicedToArray(_useState17, 2),\n        isStopped = _useState18[0],\n        setStop = _useState18[1]; // useEffect(() => {\n  //         if(isStopped===\"no\" && start!==0){\n  //             let running = setInterval(() => {\n  //                 setNow(new Date().getTime());\n  //             }, 80);\n  //         }\n  //         else {\n  //             clearInterval();\n  //         }\n  //     });\n\n\n  const _useState19 = useState(false),\n        _useState20 = _slicedToArray(_useState19, 2),\n        resume = _useState20[0],\n        setResume = _useState20[1]; // let addLapse = lapse => {\n  //     setLapses([lapse,...lapses]);\n  // };\n  // let Lap = lapse => {\n  //     setIdLapse(idLapse + 1);\n  //     setLapses([...lapses,lapse]);\n  // };\n\n\n  let addLapse = () => {\n    const timestamp = new Date().getTime();\n    let duration;\n    lapses.length > 0 ? duration = timestamp - (lapses[0][\"end_time\"] + start) : duration = timestamp - start;\n    setLapses([{\n      end_time: timestamp - start,\n      duration: duration\n    }, ...lapses]);\n  }; // let handleReset = () => {\n  //     setStart(false);\n  //     setStop(false);\n  //     setResume(false);\n  //     setIdLapse(0);\n  //     setLapses([]);\n\n\n  let running = setInterval(() => {\n    setNow(new Date().getTime());\n  }, 80);\n\n  let handleStart = () => {\n    setStart(new Date().getTime());\n    setNow(new Date().getTime()); //  setLapses([{end_time: 0, duration: 0}]);\n    //setNow(new Date().getTime());\n    // setInterval(() => {\n    //     setNow(new Date().getTime());\n    // }, 80);\n\n    myInterval.setInterval(() => {\n      setNow(new Date().getTime());\n    }, 80);\n  }; // useEffect(\n  //     let setInterval(() => {\n  //         setNow(new Date().getTime());\n  //     }, 80);\n  // // Указываем как производить очистку после этого эффекта:\n  // return () => {\n  //     clearInterval( setInterval(() => {\n  //         setNow(new Date().getTime());\n  //     }, 80));\n  // };\n\n\n  let handleStop = () => {\n    clearInterval(this.myInterval); // setNow(0);\n    // setStart(0);\n\n    console.log(interval);\n  };\n\n  function componentWillUnmount() {\n    clearInterval(this.running);\n  }\n\n  let timer = () => {\n    setInterval(() => {\n      setNow(new Date().getTime());\n    }, 80);\n  }; // let buttons = () => {\n  //     if (true) {\n  //         {\n  //          return (<div>\n  //                 <startButton onStart={() => handleStart()}/>\n  //             </div>);\n  //         }\n  //     }\n  //     else {\n  //         return (<div>\n  //             <twoButtons resume={resume} onReset={() => this.handleReset()}\n  //                         onLap={() => this.Lap()} idLapse={idLapse}\n  //             />\n  //         </div>);\n  //     }\n  // };\n  // let buttons = () => {\n  //     if (true) {\n  //         return (<div>\n  //             <twoButtons resume={resume} onReset={() => this.handleReset()}\n  //                         onLap={() => this.Lap()} idLapse={idLapse}\n  //             />\n  //         </div>);\n  //     } else {\n  //         return (<div>\n  //             <startButton onStart={() => handleStart()}/>\n  //         </div>);\n  //     }\n  // };\n\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Timer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, React.createElement(Timer, {\n    interval: interval,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  })), start > 0 ? React.createElement(\"div\", {\n    className: \"Buttons twoButtons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => addLapse(),\n    className: \"lapButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, \"LAP\"), React.createElement(\"button\", {\n    onClick: () => handleStop(),\n    className: \"stopButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, \"STOP\")) : React.createElement(\"div\", {\n    className: \"Buttons twoButtons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => handleStart(),\n    className: \"startButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, \"START\"), React.createElement(\"button\", {\n    className: \"resetButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, \"RESET\")), React.createElement(LapsesList, {\n    lapses: lapses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }));\n}\n\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 315\n  },\n  __self: this\n}), document.getElementById(\"root\"));\n/*//import logo from \"../logo.svg\"*/","map":{"version":3,"sources":["C:\\Элия\\React\\my-app\\src\\index.js"],"names":["React","useState","useEffect","useRef","ReactDOM","moment","LapsesTable","start","setStart","stop","setStop","resume","setResume","twoButtons","props","makeLapse","onLap","id","idLapse","end_time","duration","onReset","Lapse","number","onDelete","LapsesList","lapses","map","lapse","index","length","Timer","interval","setDuration","pad","n","milliseconds","Math","round","seconds","minutes","StartButton","onStart","App","setIdLapse","setLapses","now","setNow","myInterval","isStopped","addLapse","timestamp","Date","getTime","running","setInterval","handleStart","handleStop","clearInterval","console","log","componentWillUnmount","timer","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect , useRef} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport moment from 'moment';\r\n\r\n//function Clock\r\n\r\n// function startButton(props){\r\n//         return(\r\n//         <button onClick={this.props.handleStart} className=\"startButton\"> START </button>\r\n//         );\r\n// }\r\n//\r\n// function twoButtons(props){\r\n//     let makeLapse = () => {\r\n//         this.props.onLap({\r\n//             id: this.props.idLapse + 1,\r\n//             end_time: \"tatata\",\r\n//             duration: \"tatata\",\r\n//         });\r\n//     };\r\n//\r\n//         return (\r\n//     (this.props.resume === true)? <div><button>STOP</button><button onClick={this.makeLapse}>LAP</button></div>\r\n//     : <div><button>RESUME</button><button onClick={this.props.onReset}>RESET</button></div>\r\n//     );\r\n// }\r\n\r\nfunction LapsesTable() {\r\n    const [start, setStart] = useState(false);\r\n    const [stop, setStop] = useState(false);\r\n    const [resume, setResume] = useState(false);\r\n\r\n    // const [idLapse, setIdLapse] = useState(0);\r\n    //\r\n    // const [lapses, setLapses] = useState([]);\r\n    //\r\n    // let Lap = lapse => {\r\n    //     setIdLapse(idLapse + 1);\r\n    //     setLapses([lapse, ...lapses]);\r\n    // };\r\n\r\n   /* let handleReset = () => {\r\n        setStart(false);\r\n        setStop(false);\r\n        setResume(false);\r\n        setIdLapse(0);\r\n        setLapses([]);\r\n    };*/\r\n\r\n    /*return (\r\n        ({start} === false ?\r\n            <div>\r\n                <startButton onClick={() => setStart(!start)}/>\r\n            </div> :\r\n            <div>\r\n                <twoButtons onReset={() => this.handleReset()}\r\n                            onLap={() => this.Lap()} idLapse={idLapse}\r\n\r\n                />\r\n                <div className={LapsesList}>\r\n                    <hr/>\r\n                    {lapses.map(lapse => (\r\n                        <Lapse\r\n                            key={lapse.id}\r\n                            lapse={lapse}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>)\r\n    );*/\r\n};\r\n\r\nfunction twoButtons(props){\r\n    let makeLapse = () => {\r\n        this.props.onLap({\r\n            id: this.props.idLapse + 1,\r\n            end_time: \"tatata\",\r\n            duration: \"tatata\",\r\n        });\r\n    };\r\n\r\n    return (\r\n        (this.props.resume === true)?\r\n            <div className=\"twoButtons\">\r\n                <button className=\"stopButton\">STOP</button>\r\n                <button onClick={this.makeLapse}>LAP</button>\r\n            </div>\r\n            :\r\n            <div className=\"twoButtons\">\r\n                <button>RESUME</button>\r\n                <button onClick={this.props.onReset}>RESET</button>\r\n            </div>\r\n    );\r\n}\r\n\r\nfunction Lapse(props){\r\n    return (\r\n        <div className=\"Lapse\">\r\n            <span>Lapse {props.number}</span>\r\n            <Timer interval={props.end_time}/>\r\n            <Timer interval={props.duration}/>\r\n            <button className=\"deleteButton\" onClick={props.onDelete}>x </button>\r\n            {/*<span>{props.lapse.end_time}</span>*/}\r\n            {/*<span>{props.lapse.duration}</span>*/}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction LapsesList(props) {\r\n    return (\r\n        <div className=\"LapsesList\">\r\n            {/*<hr/>*/}\r\n            {props.lapses.map((lapse, index) => (\r\n                <Lapse\r\n                    // lapse = {lapse}\r\n                    end_time = {lapse.end_time}\r\n                    duration = {lapse.duration}\r\n                    key = {props.lapses.length - index}\r\n                    number = {props.lapses.length - index}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Timer({interval}) {\r\n    const [duration, setDuration] = useState(moment.duration(interval));\r\n    useEffect(() => setDuration(moment.duration(interval)), [interval]);\r\n    //const milliseconds = Math.floor(duration.milliseconds() /10);\r\n    const pad = (n) => n < 10 ? \"0\" + n : n ;\r\n    //const milliseconds = pad()\r\n    const milliseconds = Math.round(duration.milliseconds() / 10);\r\n    const seconds = () => {\r\n        if(duration.seconds()<10){\r\n            return \"0\"+duration.seconds();\r\n        }\r\n        else{\r\n            return duration.seconds();\r\n        }\r\n    };\r\n    return (\r\n        <div>{pad(duration.minutes())}:{pad(duration.seconds())}.{pad(milliseconds)}</div>\r\n    )\r\n}\r\n\r\nfunction StartButton(props){\r\n    return(\r\n        <button onClick={props.onStart} className=\"startButton\"> START </button>\r\n    );\r\n}\r\n\r\n// function rButton(props){\r\n//     return(\r\n//         <button onClick={props.onPress} className={props.class}>{props.title}</button>\r\n//     )\r\n// }\r\n\r\n\r\nfunction App() {\r\n    // const [timer, setTimer] = useState(1234567);\r\n    const [idLapse, setIdLapse] = useState(0);\r\n    //const [lapses, setLapses] = useState([{end_time:12345,duration:1234},{end_time:12345,duration:2345},{end_time:12345,duration:34567}]);\r\n    const [lapses, setLapses] = useState([]);\r\n    const [now, setNow] = useState(0);\r\n    const [start, setStart] = useState(0);\r\n    let interval = +now-(+start);\r\n    let myInterval = useRef(null);\r\n    // let interval = () => {\r\n    //     if(now === 0 & start!==0){\r\n    //         return\r\n    //     }\r\n    // }\r\n    //const [interval,setInterv] = useState(Number(now)-Number(start));\r\n    //const [lapses, setLapses] = useState([]);\r\n\r\n    //const [isStarted, setStart] = useState(false);\r\n    const [isStopped, setStop] = useState(0);\r\n    // useEffect(() => {\r\n    //         if(isStopped===\"no\" && start!==0){\r\n    //             let running = setInterval(() => {\r\n    //                 setNow(new Date().getTime());\r\n    //             }, 80);\r\n    //         }\r\n    //         else {\r\n    //             clearInterval();\r\n    //         }\r\n    //     });\r\n    const [resume, setResume] = useState(false);\r\n\r\n    // let addLapse = lapse => {\r\n    //     setLapses([lapse,...lapses]);\r\n    // };\r\n\r\n    // let Lap = lapse => {\r\n    //     setIdLapse(idLapse + 1);\r\n    //     setLapses([...lapses,lapse]);\r\n    // };\r\n\r\n    let addLapse = () => {\r\n        const timestamp = new Date().getTime();\r\n        let duration;\r\n        lapses.length > 0 ? duration = timestamp - (lapses[0][\"end_time\"] + start)\r\n        : duration = timestamp - start;\r\n        setLapses([{end_time:timestamp-start,duration:duration},...lapses]);\r\n    };\r\n\r\n    // let handleReset = () => {\r\n    //     setStart(false);\r\n    //     setStop(false);\r\n    //     setResume(false);\r\n    //     setIdLapse(0);\r\n    //     setLapses([]);\r\n    let running = setInterval(() => {\r\n            setNow(new Date().getTime());\r\n        }, 80);\r\n    let handleStart = () => {\r\n        setStart(new Date().getTime());\r\n        setNow(new Date().getTime());\r\n      //  setLapses([{end_time: 0, duration: 0}]);\r\n        //setNow(new Date().getTime());\r\n\r\n        // setInterval(() => {\r\n        //     setNow(new Date().getTime());\r\n        // }, 80);\r\n\r\n        myInterval.setInterval(() => {\r\n          setNow(new Date().getTime());\r\n         }, 80);\r\n    };\r\n\r\n    // useEffect(\r\n    //     let setInterval(() => {\r\n    //         setNow(new Date().getTime());\r\n    //     }, 80);\r\n    // // Указываем как производить очистку после этого эффекта:\r\n    // return () => {\r\n    //     clearInterval( setInterval(() => {\r\n    //         setNow(new Date().getTime());\r\n    //     }, 80));\r\n    // };\r\n\r\n\r\n    let handleStop = () => {\r\n        clearInterval(this.myInterval);\r\n        // setNow(0);\r\n        // setStart(0);\r\n        console.log(interval);\r\n    };\r\n\r\n    function componentWillUnmount() {\r\n        clearInterval(this.running);\r\n    }\r\n\r\n\r\n    let timer = () => {\r\n        setInterval(() => {\r\n            setNow(new Date().getTime());\r\n        }, 80);\r\n    };\r\n\r\n    // let buttons = () => {\r\n    //     if (true) {\r\n    //         {\r\n    //          return (<div>\r\n    //                 <startButton onStart={() => handleStart()}/>\r\n    //             </div>);\r\n    //         }\r\n    //     }\r\n    //     else {\r\n    //         return (<div>\r\n    //             <twoButtons resume={resume} onReset={() => this.handleReset()}\r\n    //                         onLap={() => this.Lap()} idLapse={idLapse}\r\n    //             />\r\n    //         </div>);\r\n    //     }\r\n    // };\r\n\r\n    // let buttons = () => {\r\n    //     if (true) {\r\n    //         return (<div>\r\n    //             <twoButtons resume={resume} onReset={() => this.handleReset()}\r\n    //                         onLap={() => this.Lap()} idLapse={idLapse}\r\n    //             />\r\n    //         </div>);\r\n    //     } else {\r\n    //         return (<div>\r\n    //             <startButton onStart={() => handleStart()}/>\r\n    //         </div>);\r\n    //     }\r\n    // };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"Timer\">\r\n                <Timer interval={interval} />\r\n            </div>\r\n            { (start > 0)?\r\n                (<div className=\"Buttons twoButtons\">\r\n                    <button onClick={()=>addLapse()} className=\"lapButton\">LAP</button>\r\n                    <button onClick={()=>handleStop()} className=\"stopButton\">STOP</button>\r\n                </div>)\r\n                :\r\n                (<div className=\"Buttons twoButtons\">\r\n                    <button onClick={()=>handleStart()} className=\"startButton\">START</button>\r\n                    <button className=\"resetButton\">RESET</button>\r\n                </div> )\r\n            }\r\n            <LapsesList lapses={lapses} />\r\n        </div>\r\n       );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n/*//import logo from \"../logo.svg\"*/"]},"metadata":{},"sourceType":"module"}